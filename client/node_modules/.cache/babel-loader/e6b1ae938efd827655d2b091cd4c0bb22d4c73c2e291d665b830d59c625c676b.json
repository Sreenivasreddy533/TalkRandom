{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sreen\\\\TalkRandom\\\\client\\\\src\\\\components\\\\VideoChat.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { useSocket } from \"../context/SocketContext\";\nimport { getRtcConfig } from \"../utils/webrtcConfig\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst VideoChat = ({\n  onPartnerChange,\n  onStatus,\n  onError,\n  panicFlag\n}) => {\n  _s();\n  const {\n    socket\n  } = useSocket();\n  const localVideoRef = useRef(null);\n  const remoteVideoRef = useRef(null);\n  const pcRef = useRef(null);\n  const localStreamRef = useRef(null);\n  const partnerIdRef = useRef(null);\n  const [isInCall, setIsInCall] = useState(false);\n  const [isMuted, setIsMuted] = useState(false);\n  const [videoOff, setVideoOff] = useState(false);\n  const [isWaiting, setIsWaiting] = useState(false);\n  const [cameraError, setCameraError] = useState(null);\n  useEffect(() => {\n    if (!socket) return;\n    const handleMatchFound = async ({\n      partnerId\n    }) => {\n      console.log(\"‚úÖ Match found:\", partnerId);\n      onStatus(\"Partner found. Connecting‚Ä¶\");\n      partnerIdRef.current = partnerId;\n      onPartnerChange(partnerId);\n      await setupPeerConnection();\n      if (socket.id > partnerId) {\n        await createAndSendOffer();\n      }\n      setIsInCall(true);\n      setIsWaiting(false);\n    };\n    const handleWaiting = () => {\n      console.log(\"‚è≥ Waiting for partner...\");\n      setIsWaiting(true);\n      onStatus(\"Searching for a stranger‚Ä¶\");\n    };\n    const handleOffer = async ({\n      from,\n      sdp\n    }) => {\n      console.log(\"üì® Received offer from:\", from);\n      partnerIdRef.current = from;\n      onPartnerChange(from);\n      await setupPeerConnection();\n      await pcRef.current.setRemoteDescription(new RTCSessionDescription(sdp));\n      const answer = await pcRef.current.createAnswer();\n      await pcRef.current.setLocalDescription(answer);\n      socket.emit(\"webrtc-answer\", {\n        to: from,\n        sdp: answer\n      });\n      setIsInCall(true);\n      setIsWaiting(false);\n    };\n    const handleAnswer = async ({\n      from,\n      sdp\n    }) => {\n      console.log(\"üì® Received answer from:\", from);\n      if (pcRef.current) {\n        await pcRef.current.setRemoteDescription(new RTCSessionDescription(sdp));\n      }\n    };\n    const handleIceCandidate = async ({\n      from,\n      candidate\n    }) => {\n      if (pcRef.current && candidate) {\n        try {\n          await pcRef.current.addIceCandidate(new RTCIceCandidate(candidate));\n        } catch (err) {\n          console.warn(\"ICE error:\", err);\n        }\n      }\n    };\n    const handlePartnerDisconnected = () => {\n      console.log(\"üë§ Partner left\");\n      onStatus(\"Partner left. Click Next to find another.\");\n      teardownCall();\n    };\n    const handleErrorMessage = ({\n      message\n    }) => {\n      onError(message);\n      teardownCall();\n    };\n    socket.on(\"match-found\", handleMatchFound);\n    socket.on(\"waiting\", handleWaiting);\n    socket.on(\"webrtc-offer\", handleOffer);\n    socket.on(\"webrtc-answer\", handleAnswer);\n    socket.on(\"webrtc-ice-candidate\", handleIceCandidate);\n    socket.on(\"partner-disconnected\", handlePartnerDisconnected);\n    socket.on(\"error-message\", handleErrorMessage);\n    return () => {\n      socket.off(\"match-found\");\n      socket.off(\"waiting\");\n      socket.off(\"webrtc-offer\");\n      socket.off(\"webrtc-answer\");\n      socket.off(\"webrtc-ice-candidate\");\n      socket.off(\"partner-disconnected\");\n      socket.off(\"error-message\");\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [socket]);\n  const setupLocalMedia = async () => {\n    if (localStreamRef.current) return;\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: {\n          width: {\n            ideal: 1280\n          },\n          height: {\n            ideal: 720\n          }\n        },\n        audio: true\n      });\n      localStreamRef.current = stream;\n      setCameraError(null);\n      if (localVideoRef.current) {\n        localVideoRef.current.srcObject = stream;\n      }\n      console.log(\"‚úÖ Camera accessed successfully\");\n    } catch (err) {\n      console.error(\"‚ùå Camera error:\", err.message);\n      setCameraError(\"üìπ Camera blocked. Using chat-only mode.\");\n      onStatus(\"‚ö†Ô∏è Camera permission denied. Text chat still works!\");\n\n      // Still create peer connection for audio/data\n      return;\n    }\n  };\n  const setupPeerConnection = async () => {\n    if (pcRef.current) return;\n    await setupLocalMedia();\n    const pc = new RTCPeerConnection(getRtcConfig());\n    pcRef.current = pc;\n\n    // Add local stream if available\n    if (localStreamRef.current) {\n      localStreamRef.current.getTracks().forEach(track => {\n        pc.addTrack(track, localStreamRef.current);\n      });\n    }\n    pc.ontrack = event => {\n      console.log(\"üìπ Received remote track\");\n      if (remoteVideoRef.current) {\n        remoteVideoRef.current.srcObject = event.streams[0];\n      }\n    };\n    pc.onicecandidate = event => {\n      if (event.candidate && partnerIdRef.current && socket) {\n        socket.emit(\"webrtc-ice-candidate\", {\n          to: partnerIdRef.current,\n          candidate: event.candidate\n        });\n      }\n    };\n    pc.onconnectionstatechange = () => {\n      console.log(\"üîó Connection state:\", pc.connectionState);\n      if (pc.connectionState === \"failed\" || pc.connectionState === \"disconnected\") {\n        onStatus(\"Connection lost. Click Next to try again.\");\n        teardownCall();\n      }\n    };\n  };\n  const createAndSendOffer = async () => {\n    const pc = pcRef.current;\n    const offer = await pc.createOffer();\n    await pc.setLocalDescription(offer);\n    socket.emit(\"webrtc-offer\", {\n      to: partnerIdRef.current,\n      sdp: offer\n    });\n    console.log(\"üì§ Sent offer to:\", partnerIdRef.current);\n  };\n  const teardownCall = () => {\n    setIsInCall(false);\n    partnerIdRef.current = null;\n    onPartnerChange(null);\n    if (pcRef.current) {\n      pcRef.current.close();\n      pcRef.current = null;\n    }\n    if (remoteVideoRef.current) {\n      remoteVideoRef.current.srcObject = null;\n    }\n  };\n  const stopAllMedia = () => {\n    if (localStreamRef.current) {\n      localStreamRef.current.getTracks().forEach(t => t.stop());\n      localStreamRef.current = null;\n      if (localVideoRef.current) {\n        localVideoRef.current.srcObject = null;\n      }\n    }\n  };\n  const handleStart = meta => {\n    setupLocalMedia();\n    socket.emit(\"find-partner\", meta);\n  };\n  const handleNext = meta => {\n    socket.emit(\"disconnect-partner\");\n    teardownCall();\n    handleStart(meta);\n  };\n  const handleStop = () => {\n    socket.emit(\"disconnect-partner\");\n    teardownCall();\n    stopAllMedia();\n    onStatus(\"Stopped. Click Start to connect again.\");\n    setCameraError(null);\n  };\n  const toggleMute = () => {\n    if (!localStreamRef.current) return;\n    const enabled = !isMuted;\n    localStreamRef.current.getAudioTracks().forEach(t => t.enabled = !enabled);\n    setIsMuted(enabled);\n  };\n  const toggleVideo = () => {\n    if (!localStreamRef.current) return;\n    const off = !videoOff;\n    localStreamRef.current.getVideoTracks().forEach(t => t.enabled = !off);\n    setVideoOff(off);\n  };\n  useEffect(() => {\n    if (panicFlag && socket) {\n      socket.emit(\"panic\");\n      handleStop();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [panicFlag]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"video-grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"video-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"video\", {\n          ref: remoteVideoRef,\n          autoPlay: true,\n          playsInline: true,\n          style: {\n            width: \"100%\",\n            height: \"100%\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this), !isInCall && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"absolute\",\n            inset: 0,\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            background: \"radial-gradient(circle, rgba(0,0,0,.7), rgba(0,0,0,.95))\",\n            color: \"#e0e6ed\",\n            textAlign: \"center\",\n            fontSize: \"1rem\",\n            padding: \"1rem\",\n            zIndex: 1\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontWeight: 600,\n                marginBottom: \"0.5rem\"\n              },\n              children: \"\\uD83D\\uDC40 Waiting for a partner\\u2026\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                opacity: 0.8,\n                fontSize: \"0.9rem\"\n              },\n              children: \"Click Start to be matched.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"video-box\",\n        style: {\n          alignSelf: \"flex-start\"\n        },\n        children: cameraError ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: \"100%\",\n            height: \"100%\",\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            background: \"rgba(0,0,0,0.8)\",\n            color: \"#fecaca\",\n            textAlign: \"center\",\n            padding: \"1rem\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: \"2rem\",\n                marginBottom: \"0.5rem\"\n              },\n              children: \"\\uD83D\\uDCF9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: cameraError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: \"0.8rem\",\n                marginTop: \"0.5rem\",\n                opacity: 0.7\n              },\n              children: \"Chat works fine without camera\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"video\", {\n            ref: localVideoRef,\n            autoPlay: true,\n            muted: true,\n            playsInline: true,\n            style: {\n              width: \"100%\",\n              height: \"100%\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"video-label\",\n            children: \"You\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"controls-row\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: () => handleStart({}),\n        disabled: isWaiting,\n        children: isWaiting ? \"‚è≥ Searching‚Ä¶\" : \"‚ñ∂ Start\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-ghost\",\n        onClick: () => handleNext({}),\n        children: \"\\u23ED Next\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-ghost\",\n        onClick: handleStop,\n        children: \"\\u23F9 Stop\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-ghost\",\n        onClick: toggleMute,\n        disabled: !localStreamRef.current,\n        children: isMuted ? \"üîá Unmute\" : \"üîä Mute\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-ghost\",\n        onClick: toggleVideo,\n        disabled: !localStreamRef.current,\n        children: videoOff ? \"üì∑ Video On\" : \"üìπ Video Off\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(VideoChat, \"fRlOh56swsmPBbL3g4k//jOqayo=\", false, function () {\n  return [useSocket];\n});\n_c = VideoChat;\nexport default VideoChat;\nvar _c;\n$RefreshReg$(_c, \"VideoChat\");","map":{"version":3,"names":["React","useEffect","useRef","useState","useSocket","getRtcConfig","jsxDEV","_jsxDEV","Fragment","_Fragment","VideoChat","onPartnerChange","onStatus","onError","panicFlag","_s","socket","localVideoRef","remoteVideoRef","pcRef","localStreamRef","partnerIdRef","isInCall","setIsInCall","isMuted","setIsMuted","videoOff","setVideoOff","isWaiting","setIsWaiting","cameraError","setCameraError","handleMatchFound","partnerId","console","log","current","setupPeerConnection","id","createAndSendOffer","handleWaiting","handleOffer","from","sdp","setRemoteDescription","RTCSessionDescription","answer","createAnswer","setLocalDescription","emit","to","handleAnswer","handleIceCandidate","candidate","addIceCandidate","RTCIceCandidate","err","warn","handlePartnerDisconnected","teardownCall","handleErrorMessage","message","on","off","setupLocalMedia","stream","navigator","mediaDevices","getUserMedia","video","width","ideal","height","audio","srcObject","error","pc","RTCPeerConnection","getTracks","forEach","track","addTrack","ontrack","event","streams","onicecandidate","onconnectionstatechange","connectionState","offer","createOffer","close","stopAllMedia","t","stop","handleStart","meta","handleNext","handleStop","toggleMute","enabled","getAudioTracks","toggleVideo","getVideoTracks","children","className","ref","autoPlay","playsInline","style","fileName","_jsxFileName","lineNumber","columnNumber","position","inset","display","alignItems","justifyContent","background","color","textAlign","fontSize","padding","zIndex","fontWeight","marginBottom","opacity","alignSelf","marginTop","muted","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/sreen/TalkRandom/client/src/components/VideoChat.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport { useSocket } from \"../context/SocketContext\";\r\nimport { getRtcConfig } from \"../utils/webrtcConfig\";\r\n\r\nconst VideoChat = ({ onPartnerChange, onStatus, onError, panicFlag }) => {\r\n  const { socket } = useSocket();\r\n  const localVideoRef = useRef(null);\r\n  const remoteVideoRef = useRef(null);\r\n  const pcRef = useRef(null);\r\n  const localStreamRef = useRef(null);\r\n  const partnerIdRef = useRef(null);\r\n\r\n  const [isInCall, setIsInCall] = useState(false);\r\n  const [isMuted, setIsMuted] = useState(false);\r\n  const [videoOff, setVideoOff] = useState(false);\r\n  const [isWaiting, setIsWaiting] = useState(false);\r\n  const [cameraError, setCameraError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (!socket) return;\r\n\r\n    const handleMatchFound = async ({ partnerId }) => {\r\n      console.log(\"‚úÖ Match found:\", partnerId);\r\n      onStatus(\"Partner found. Connecting‚Ä¶\");\r\n      partnerIdRef.current = partnerId;\r\n      onPartnerChange(partnerId);\r\n\r\n      await setupPeerConnection();\r\n\r\n      if (socket.id > partnerId) {\r\n        await createAndSendOffer();\r\n      }\r\n\r\n      setIsInCall(true);\r\n      setIsWaiting(false);\r\n    };\r\n\r\n    const handleWaiting = () => {\r\n      console.log(\"‚è≥ Waiting for partner...\");\r\n      setIsWaiting(true);\r\n      onStatus(\"Searching for a stranger‚Ä¶\");\r\n    };\r\n\r\n    const handleOffer = async ({ from, sdp }) => {\r\n      console.log(\"üì® Received offer from:\", from);\r\n      partnerIdRef.current = from;\r\n      onPartnerChange(from);\r\n\r\n      await setupPeerConnection();\r\n      await pcRef.current.setRemoteDescription(new RTCSessionDescription(sdp));\r\n\r\n      const answer = await pcRef.current.createAnswer();\r\n      await pcRef.current.setLocalDescription(answer);\r\n      socket.emit(\"webrtc-answer\", { to: from, sdp: answer });\r\n\r\n      setIsInCall(true);\r\n      setIsWaiting(false);\r\n    };\r\n\r\n    const handleAnswer = async ({ from, sdp }) => {\r\n      console.log(\"üì® Received answer from:\", from);\r\n      if (pcRef.current) {\r\n        await pcRef.current.setRemoteDescription(new RTCSessionDescription(sdp));\r\n      }\r\n    };\r\n\r\n    const handleIceCandidate = async ({ from, candidate }) => {\r\n      if (pcRef.current && candidate) {\r\n        try {\r\n          await pcRef.current.addIceCandidate(new RTCIceCandidate(candidate));\r\n        } catch (err) {\r\n          console.warn(\"ICE error:\", err);\r\n        }\r\n      }\r\n    };\r\n\r\n    const handlePartnerDisconnected = () => {\r\n      console.log(\"üë§ Partner left\");\r\n      onStatus(\"Partner left. Click Next to find another.\");\r\n      teardownCall();\r\n    };\r\n\r\n    const handleErrorMessage = ({ message }) => {\r\n      onError(message);\r\n      teardownCall();\r\n    };\r\n\r\n    socket.on(\"match-found\", handleMatchFound);\r\n    socket.on(\"waiting\", handleWaiting);\r\n    socket.on(\"webrtc-offer\", handleOffer);\r\n    socket.on(\"webrtc-answer\", handleAnswer);\r\n    socket.on(\"webrtc-ice-candidate\", handleIceCandidate);\r\n    socket.on(\"partner-disconnected\", handlePartnerDisconnected);\r\n    socket.on(\"error-message\", handleErrorMessage);\r\n\r\n    return () => {\r\n      socket.off(\"match-found\");\r\n      socket.off(\"waiting\");\r\n      socket.off(\"webrtc-offer\");\r\n      socket.off(\"webrtc-answer\");\r\n      socket.off(\"webrtc-ice-candidate\");\r\n      socket.off(\"partner-disconnected\");\r\n      socket.off(\"error-message\");\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [socket]);\r\n\r\n  const setupLocalMedia = async () => {\r\n    if (localStreamRef.current) return;\r\n\r\n    try {\r\n      const stream = await navigator.mediaDevices.getUserMedia({\r\n        video: { width: { ideal: 1280 }, height: { ideal: 720 } },\r\n        audio: true\r\n      });\r\n      localStreamRef.current = stream;\r\n      setCameraError(null);\r\n      \r\n      if (localVideoRef.current) {\r\n        localVideoRef.current.srcObject = stream;\r\n      }\r\n      console.log(\"‚úÖ Camera accessed successfully\");\r\n    } catch (err) {\r\n      console.error(\"‚ùå Camera error:\", err.message);\r\n      setCameraError(\"üìπ Camera blocked. Using chat-only mode.\");\r\n      onStatus(\"‚ö†Ô∏è Camera permission denied. Text chat still works!\");\r\n      \r\n      // Still create peer connection for audio/data\r\n      return;\r\n    }\r\n  };\r\n\r\n  const setupPeerConnection = async () => {\r\n    if (pcRef.current) return;\r\n\r\n    await setupLocalMedia();\r\n\r\n    const pc = new RTCPeerConnection(getRtcConfig());\r\n    pcRef.current = pc;\r\n\r\n    // Add local stream if available\r\n    if (localStreamRef.current) {\r\n      localStreamRef.current.getTracks().forEach((track) => {\r\n        pc.addTrack(track, localStreamRef.current);\r\n      });\r\n    }\r\n\r\n    pc.ontrack = (event) => {\r\n      console.log(\"üìπ Received remote track\");\r\n      if (remoteVideoRef.current) {\r\n        remoteVideoRef.current.srcObject = event.streams[0];\r\n      }\r\n    };\r\n\r\n    pc.onicecandidate = (event) => {\r\n      if (event.candidate && partnerIdRef.current && socket) {\r\n        socket.emit(\"webrtc-ice-candidate\", {\r\n          to: partnerIdRef.current,\r\n          candidate: event.candidate\r\n        });\r\n      }\r\n    };\r\n\r\n    pc.onconnectionstatechange = () => {\r\n      console.log(\"üîó Connection state:\", pc.connectionState);\r\n      if (\r\n        pc.connectionState === \"failed\" ||\r\n        pc.connectionState === \"disconnected\"\r\n      ) {\r\n        onStatus(\"Connection lost. Click Next to try again.\");\r\n        teardownCall();\r\n      }\r\n    };\r\n  };\r\n\r\n  const createAndSendOffer = async () => {\r\n    const pc = pcRef.current;\r\n    const offer = await pc.createOffer();\r\n    await pc.setLocalDescription(offer);\r\n    socket.emit(\"webrtc-offer\", { to: partnerIdRef.current, sdp: offer });\r\n    console.log(\"üì§ Sent offer to:\", partnerIdRef.current);\r\n  };\r\n\r\n  const teardownCall = () => {\r\n    setIsInCall(false);\r\n    partnerIdRef.current = null;\r\n    onPartnerChange(null);\r\n\r\n    if (pcRef.current) {\r\n      pcRef.current.close();\r\n      pcRef.current = null;\r\n    }\r\n    if (remoteVideoRef.current) {\r\n      remoteVideoRef.current.srcObject = null;\r\n    }\r\n  };\r\n\r\n  const stopAllMedia = () => {\r\n    if (localStreamRef.current) {\r\n      localStreamRef.current.getTracks().forEach((t) => t.stop());\r\n      localStreamRef.current = null;\r\n      if (localVideoRef.current) {\r\n        localVideoRef.current.srcObject = null;\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleStart = (meta) => {\r\n    setupLocalMedia();\r\n    socket.emit(\"find-partner\", meta);\r\n  };\r\n\r\n  const handleNext = (meta) => {\r\n    socket.emit(\"disconnect-partner\");\r\n    teardownCall();\r\n    handleStart(meta);\r\n  };\r\n\r\n  const handleStop = () => {\r\n    socket.emit(\"disconnect-partner\");\r\n    teardownCall();\r\n    stopAllMedia();\r\n    onStatus(\"Stopped. Click Start to connect again.\");\r\n    setCameraError(null);\r\n  };\r\n\r\n  const toggleMute = () => {\r\n    if (!localStreamRef.current) return;\r\n    const enabled = !isMuted;\r\n    localStreamRef.current\r\n      .getAudioTracks()\r\n      .forEach((t) => (t.enabled = !enabled));\r\n    setIsMuted(enabled);\r\n  };\r\n\r\n  const toggleVideo = () => {\r\n    if (!localStreamRef.current) return;\r\n    const off = !videoOff;\r\n    localStreamRef.current\r\n      .getVideoTracks()\r\n      .forEach((t) => (t.enabled = !off));\r\n    setVideoOff(off);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (panicFlag && socket) {\r\n      socket.emit(\"panic\");\r\n      handleStop();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [panicFlag]);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"video-grid\">\r\n        <div className=\"video-box\">\r\n          <video\r\n            ref={remoteVideoRef}\r\n            autoPlay\r\n            playsInline\r\n            style={{ width: \"100%\", height: \"100%\" }}\r\n          />\r\n          {!isInCall && (\r\n            <div\r\n              style={{\r\n                position: \"absolute\",\r\n                inset: 0,\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n                background: \"radial-gradient(circle, rgba(0,0,0,.7), rgba(0,0,0,.95))\",\r\n                color: \"#e0e6ed\",\r\n                textAlign: \"center\",\r\n                fontSize: \"1rem\",\r\n                padding: \"1rem\",\r\n                zIndex: 1\r\n              }}\r\n            >\r\n              <div>\r\n                <div style={{ fontWeight: 600, marginBottom: \"0.5rem\" }}>\r\n                  üëÄ Waiting for a partner‚Ä¶\r\n                </div>\r\n                <div style={{ opacity: 0.8, fontSize: \"0.9rem\" }}>\r\n                  Click Start to be matched.\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div\r\n          className=\"video-box\"\r\n          style={{ alignSelf: \"flex-start\" }}\r\n        >\r\n          {cameraError ? (\r\n            <div\r\n              style={{\r\n                width: \"100%\",\r\n                height: \"100%\",\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n                background: \"rgba(0,0,0,0.8)\",\r\n                color: \"#fecaca\",\r\n                textAlign: \"center\",\r\n                padding: \"1rem\"\r\n              }}\r\n            >\r\n              <div>\r\n                <div style={{ fontSize: \"2rem\", marginBottom: \"0.5rem\" }}>üìπ</div>\r\n                <div>{cameraError}</div>\r\n                <div style={{ fontSize: \"0.8rem\", marginTop: \"0.5rem\", opacity: 0.7 }}>\r\n                  Chat works fine without camera\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <>\r\n              <video\r\n                ref={localVideoRef}\r\n                autoPlay\r\n                muted\r\n                playsInline\r\n                style={{ width: \"100%\", height: \"100%\" }}\r\n              />\r\n              <div className=\"video-label\">You</div>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"controls-row\">\r\n        <button\r\n          className=\"btn btn-primary\"\r\n          onClick={() => handleStart({})}\r\n          disabled={isWaiting}\r\n        >\r\n          {isWaiting ? \"‚è≥ Searching‚Ä¶\" : \"‚ñ∂ Start\"}\r\n        </button>\r\n        <button className=\"btn btn-ghost\" onClick={() => handleNext({})}>\r\n          ‚è≠ Next\r\n        </button>\r\n        <button className=\"btn btn-ghost\" onClick={handleStop}>\r\n          ‚èπ Stop\r\n        </button>\r\n        <button className=\"btn btn-ghost\" onClick={toggleMute} disabled={!localStreamRef.current}>\r\n          {isMuted ? \"üîá Unmute\" : \"üîä Mute\"}\r\n        </button>\r\n        <button className=\"btn btn-ghost\" onClick={toggleVideo} disabled={!localStreamRef.current}>\r\n          {videoOff ? \"üì∑ Video On\" : \"üìπ Video Off\"}\r\n        </button>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default VideoChat;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}